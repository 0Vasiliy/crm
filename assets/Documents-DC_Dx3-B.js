import{f as M,g as U,h as i,i as r,Q as k,e as w,k as L,a as N,b as y,d as g}from"./QTabPanels-FxUvnMtT.js";import{_ as F,b as T,d as o,e,w as t,g as n,o as P,f as u,a4 as m,a5 as f,a8 as d,F as j,k as E,a3 as z,i as C,t as V}from"./index-BImh0Udg.js";const A={name:"DocumentsModule",setup(){const b=n("documents"),a=n(!1),_=n(null),l=n(null),v=[{name:"id",label:"ID",field:"id",sortable:!0},{name:"name",label:"Название",field:"name",sortable:!0},{name:"type",label:"Тип",field:"type",sortable:!0},{name:"status",label:"Статус",field:"status",sortable:!0},{name:"created",label:"Создан",field:"created",sortable:!0},{name:"author",label:"Автор",field:"author",sortable:!0}],p=[{name:"id",label:"ID",field:"id",sortable:!0},{name:"name",label:"Название",field:"name",sortable:!0},{name:"type",label:"Тип",field:"type",sortable:!0},{name:"lastModified",label:"Изменен",field:"lastModified",sortable:!0}],s=[{label:"Договоры",value:"contracts"},{label:"Акты",value:"acts"},{label:"Приказы",value:"orders"},{label:"Отчеты",value:"reports"}],c=[{label:"Черновик",value:"draft"},{label:"На согласовании",value:"review"},{label:"Утвержден",value:"approved"},{label:"Архив",value:"archived"}],Q=n([]),D=n([]),x=n([{id:1,name:"Стандартный маршрут",description:"Руководитель -> Бухгалтерия -> Архив"},{id:2,name:"Срочный маршрут",description:"Руководитель -> Архив"}]),S=()=>{},h=()=>{},q=()=>{},I=B=>{},W=B=>{};return P(()=>{}),{activeTab:b,loading:a,selectedDocumentType:_,selectedStatus:l,documentColumns:v,templateColumns:p,documentTypes:s,documentStatuses:c,documents:Q,templates:D,workflows:x,createDocument:S,createTemplate:h,createWorkflow:q,editWorkflow:I,deleteWorkflow:W}}},G={class:"documents-module"},H={class:"documents-tabs"},J={class:"row q-col-gutter-md"},K={class:"col-12"},O={class:"row q-col-gutter-md"},R={class:"col-12 col-md-4"},X={class:"col-12 col-md-4"},Y={class:"col-12 col-md-4"},Z={class:"row q-col-gutter-md"},$={class:"col-12"},ee={class:"row q-col-gutter-md"},le={class:"col-12"},ae={class:"row q-col-gutter-md"},te={class:"col-12"};function oe(b,a,_,l,v,p){return u(),T("div",G,[a[7]||(a[7]=o("h1",null,"Документооборот",-1)),o("div",H,[e(M,{modelValue:l.activeTab,"onUpdate:modelValue":a[0]||(a[0]=s=>l.activeTab=s),class:"text-primary","active-color":"primary","indicator-color":"primary",align:"justify"},{default:t(()=>[e(i,{name:"documents",label:"Документы"}),e(i,{name:"templates",label:"Шаблоны"}),e(i,{name:"workflow",label:"Маршруты"})]),_:1},8,["modelValue"]),e(U,{modelValue:l.activeTab,"onUpdate:modelValue":a[3]||(a[3]=s=>l.activeTab=s),animated:""},{default:t(()=>[e(r,{name:"documents"},{default:t(()=>[o("div",J,[o("div",K,[e(m,null,{default:t(()=>[e(f,null,{default:t(()=>[a[4]||(a[4]=o("div",{class:"text-h6"},"Управление документами",-1)),o("div",O,[o("div",R,[e(k,{modelValue:l.selectedDocumentType,"onUpdate:modelValue":a[1]||(a[1]=s=>l.selectedDocumentType=s),options:l.documentTypes,label:"Тип документа"},null,8,["modelValue","options"])]),o("div",X,[e(k,{modelValue:l.selectedStatus,"onUpdate:modelValue":a[2]||(a[2]=s=>l.selectedStatus=s),options:l.documentStatuses,label:"Статус"},null,8,["modelValue","options"])]),o("div",Y,[e(d,{color:"primary",label:"Создать документ",onClick:l.createDocument},null,8,["onClick"])])]),e(w,{rows:l.documents,columns:l.documentColumns,"row-key":"id",loading:l.loading},null,8,["rows","columns","loading"])]),_:1,__:[4]})]),_:1})])])]),_:1}),e(r,{name:"templates"},{default:t(()=>[o("div",Z,[o("div",$,[e(m,null,{default:t(()=>[e(f,null,{default:t(()=>[a[5]||(a[5]=o("div",{class:"text-h6"},"Шаблоны документов",-1)),e(w,{rows:l.templates,columns:l.templateColumns,"row-key":"id",loading:l.loading},{top:t(()=>[e(d,{color:"primary",label:"Создать шаблон",onClick:l.createTemplate},null,8,["onClick"])]),_:1},8,["rows","columns","loading"])]),_:1,__:[5]})]),_:1})])])]),_:1}),e(r,{name:"workflow"},{default:t(()=>[o("div",ee,[o("div",le,[e(m,null,{default:t(()=>[e(f,null,{default:t(()=>[a[6]||(a[6]=o("div",{class:"text-h6"},"Маршруты согласования",-1)),o("div",ae,[o("div",te,[e(L,null,{default:t(()=>[(u(!0),T(j,null,E(l.workflows,s=>(u(),z(N,{key:s.id},{default:t(()=>[e(y,null,{default:t(()=>[e(g,null,{default:t(()=>[C(V(s.name),1)]),_:2},1024),e(g,{caption:""},{default:t(()=>[C(V(s.description),1)]),_:2},1024)]),_:2},1024),e(y,{side:""},{default:t(()=>[e(d,{flat:"",round:"",color:"primary",icon:"edit",onClick:c=>l.editWorkflow(s)},null,8,["onClick"]),e(d,{flat:"",round:"",color:"negative",icon:"delete",onClick:c=>l.deleteWorkflow(s)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1}),e(d,{color:"primary",label:"Создать маршрут",onClick:l.createWorkflow,class:"q-mt-md"},null,8,["onClick"])])])]),_:1,__:[6]})]),_:1})])])]),_:1})]),_:1},8,["modelValue"])])])}const de=F(A,[["render",oe],["__scopeId","data-v-9a1ea334"]]);export{de as default};
